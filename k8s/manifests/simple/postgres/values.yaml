postgresql:
  architecture: replication
  global:
    postgresql:
      auth:
        existingSecret: "simple-server-pg"
  primary:
    resources:
      limits:
        memory: "4Gi"
        cpu: "2"
      requests:
        memory: "4Gi"
        cpu: "2"
    configuration: |-
      listen_addresses = '*'
      port = '5432'
      wal_level = 'replica'
      fsync = 'on'
      max_wal_size = '400MB'
      max_wal_senders = '16'
      wal_keep_size = '128MB'
      hot_standby = 'on'
      log_connections = 'false'
      log_disconnections = 'false'
      log_hostname = 'false'
      client_min_messages = 'error'
      shared_preload_libraries = 'pgaudit'
      include_dir = 'conf.d'
      pgaudit.log_catalog = 'off'
      shared_buffers = 1GB
